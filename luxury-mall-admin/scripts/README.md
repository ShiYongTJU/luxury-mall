# 权限配置Excel生成脚本

## 文件说明

### 1. 权限配置.xlsx
包含所有菜单和按钮权限的配置信息，用于批量导入权限到系统。

**列说明：**
- **权限代码**：唯一标识符，如 `menu:operation`、`button:product:add`
- **权限名称**：显示名称，如 "运营中心"、"新增商品"
- **权限类型**：菜单 或 按钮
- **父权限代码**：父级权限的代码（用于构建层级关系）
- **路径**：菜单路径或按钮标识
- **描述**：权限描述
- **排序**：显示顺序

### 2. 角色配置.xlsx
包含系统角色及其权限配置，用于批量导入角色到系统。

**列说明：**
- **角色代码**：唯一标识符，如 `admin`、`visitor`
- **角色名称**：显示名称，如 "系统管理员"、"游客"
- **描述**：角色描述
- **权限代码列表**：该角色拥有的权限代码，用逗号分隔

## 角色说明

### 1. 系统管理员 (admin)
- **权限**：拥有所有菜单和按钮权限
- **用途**：系统超级管理员，可以配置权限、角色和用户

### 2. 游客 (visitor)
- **权限**：可查看所有页面（运营中心、商品中心），但不能点击任何按钮
- **用途**：只读访问，适合查看数据但不允许操作

### 3. 商品运营 (product_operator)
- **权限**：可查看和操作商品中心所有页面和按钮
  - 商品列表（查看、新增、编辑、删除）
  - 图片列表（查看、新增、编辑、删除）
  - 静态资源（查看）
- **用途**：负责商品管理和图片素材管理

### 4. 装修运营 (decoration_operator)
- **权限**：可查看和操作运营中心所有页面和按钮
  - 页面管理（查看、新增、编辑、删除、发布）
  - 轮播图（查看、新增、编辑、删除）
  - 秒杀（查看、新增、编辑、删除）
  - 团购（查看、新增、编辑、删除）
  - 商品列表（查看、新增、编辑、删除）
  - 猜你喜欢（查看、新增、编辑、删除）
- **用途**：负责页面装修和运营活动配置

## 使用方法

### 1. 生成Excel文件

```bash
# 生成权限配置Excel
node scripts/generatePermissionExcel.js

# 生成角色配置Excel
node scripts/generateRoleExcel.js
```

### 2. 导入权限

1. 登录管理后台（使用系统管理员账号）
2. 进入"系统管理" -> "权限管理"
3. 点击"导入Excel"按钮
4. 选择 `权限配置.xlsx` 文件
5. 等待导入完成

### 3. 导入角色

1. 进入"系统管理" -> "角色管理"
2. 点击"导入Excel"按钮
3. 选择 `角色配置.xlsx` 文件
4. 等待导入完成

### 4. 分配角色给用户

1. 进入"系统管理" -> "用户管理"
2. 编辑用户，选择对应的角色
3. 保存后，用户将拥有该角色的所有权限

## 注意事项

1. **系统管理员角色**：已在数据库初始化时创建，无需重复导入
2. **权限代码**：必须唯一，不能重复
3. **父权限代码**：必须引用已存在的权限代码
4. **导入顺序**：建议先导入权限，再导入角色
5. **权限层级**：菜单权限可以包含按钮权限作为子权限

## 权限代码规范

### 菜单权限
- 格式：`menu:模块:功能`
- 示例：`menu:operation:page`（运营中心-页面管理）

### 按钮权限
- 格式：`button:模块:操作`
- 示例：`button:product:add`（商品-新增）

## 修改配置

如需修改权限或角色配置：

1. 修改对应的生成脚本（`generatePermissionExcel.js` 或 `generateRoleExcel.js`）
2. 重新运行脚本生成新的Excel文件
3. 在管理后台重新导入

